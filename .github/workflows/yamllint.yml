name: Ansible YAML Lint
run-name: >
  [${{ github.ref_name }}] 🔍 Ansible YAML Lint | ${{ github.actor }} | ${{ github.event_name }} 

on:
  workflow_dispatch:
  pull_request:
    branches: [main]
    paths: ["ansible/**"]
  push:
    branches: [main]
    paths: ["ansible/**"]

jobs:
  yamllint:
    runs-on: [self-hosted]
    container:
      image: pipelinecomponents/yamllint
    steps:
      - uses: actions/checkout@v5

      - name: Do yamllint for roles
        run: yamllint ansible/
